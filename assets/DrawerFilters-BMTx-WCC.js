import{R as I,h as L,r as b,j as t,f as j,m as v,i as T,B as g,k as D,p as k}from"./index-CiotmRmG.js";import{F as C,b as y}from"./values-B_3JHIYH.js";import{l as N,s as z}from"./chunk-2GIFKCNQ-G0Cyyed3.js";import{i as _}from"./chunk-6MDMHKHV-B82Z00N1.js";import{D as R,A as M}from"./ArrowBack-DiID37UX.js";import{C as U}from"./Close-B4Ciufux.js";import{I as w}from"./Modal-BxPudYdT.js";import"./svgsFormas-2bUQIzJb.js";import"./index-C3DU8Es7.js";import"./mergeSlotProps-CjTw53YU.js";import"./Paper-MV3mk8av.js";function F(x){return null}F.getCollectionNode=function*(f){let{children:m,title:h,items:a}=f;yield{type:"section",props:f,hasChildNodes:!0,rendered:h,"aria-label":f["aria-label"],*childNodes(){if(typeof m=="function"){if(!a)throw new Error("props.children was a function but props.items is missing");for(let l of a)yield{type:"item",value:l,renderer:m}}else{let l=[];I.Children.forEach(m,n=>{l.push({type:"item",element:n})}),yield*l}}}};let V=F;var W=V,G=W;function te({isOpen:x=!1,setIsOpen:f,filtersValues:m}){const h=L(),[a,l]=b.useState(C),n=()=>f(!1),u=e=>{const o=structuredClone(a),c=e.target.name,r=e.target.type,i=e.target.value,s=r==="number"?i:Number(i);o[c]=s,l(o)},S=e=>{const o=structuredClone(a),c=e.target.name;let r=e.target.value;const i=y.find(s=>s.id===c);i!=null&&i.valueArray&&(r?r=r.split(","):r=[]),o[c]=r,l(o)},$=()=>{let e=k(a);e&&h(e),n()},A=()=>{l(structuredClone(C)),n()},E=e=>{const o=`${e.format}-${e.id}`;switch(e.format){case"select":const c=a[e.id],r=e.valueArray?c.join(","):c,i=e.items&&Object.entries(e.items).map(([s,d])=>t.jsxs(t.Fragment,{children:[t.jsx(N,{children:d.label||s},s),d.subs&&t.jsx(G,{showDivider:!0,title:d.label||s,children:Object.entries(d.subs).map(([p,B])=>t.jsx(N,{children:B.label||p},s+","+p))},"section-"+s)]}));return t.jsx(z,{className:"max-w-xs text-foreground",classNames:{listbox:"text-foreground capitalize",popoverContent:"border-3 border-custom1-3",value:"capitalize"},label:e.label,name:e.id,selectedKeys:[r],onChange:S,children:i});case"number":return t.jsxs("div",{children:[t.jsx("p",{children:e.label}),t.jsx("div",{className:"flex flex-col xs:flex-row gap-1",children:["Min","Max"].map(s=>{const d=a[e.id+s];return t.jsx(_,{type:"number",size:"sm",className:"capitalize",id:`input-${e.id+s}`,label:s,name:`${e.id+s}`,value:d?String(d):"",onChange:u},s)})})]});default:return t.jsx(_,{id:o,label:e.label,name:e.id,value:String(a[e.id]),onChange:u})}};return b.useEffect(()=>{const e={...a,...m};l(e)},[m]),t.jsx(R,{open:x,onClose:n,anchor:"right",disableScrollLock:!0,sx:{"& .MuiPaper-root":{maxWidth:"250px"}},children:t.jsxs("section",{children:[t.jsxs("article",{className:"p-2 flex items-center justify-between",children:[t.jsx("h1",{className:"font-semibold",children:"Filtros"}),t.jsx(w,{size:"small",className:"text-neutral-500 dark:text-neutral-400",title:"Cerrar",onClick:n,children:t.jsx(U,{})})]}),t.jsx(j,{className:"bg-neutral-500/50",variant:"middle"}),t.jsx("article",{className:"px-2 overflow-x-hidden",children:t.jsx(v.ol,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","aria-label":"Filtros",className:"space-y-4 p-4",children:y.map(e=>t.jsx(v.li,{variants:{hidden:{opacity:0,x:50},visible:{opacity:1,x:0}},children:E(e)},e.id))})}),t.jsx(j,{className:"bg-neutral-500/50",variant:"middle"}),t.jsxs("article",{className:"px-2 py-4 flex flex-wrap gap-2 justify-center",children:[t.jsx(w,{onClick:n,title:"Cerrar lista de filtros",children:t.jsx(M,{className:"h-6 w-fit"})}),t.jsxs(T,{variant:"contained",children:[t.jsx(g,{color:"inherit",title:"Limpiar filtros",component:"a",href:"#buscar?orderBy=price-asc",onClick:A,sx:{minWidth:0,px:1},children:t.jsx(D,{className:"h-6 w-fit"})}),t.jsx(g,{color:"secondary",onClick:$,title:"Aplicar filtros",sx:{textTransform:"none",fontFamily:"unset",fontWeight:"bold"},children:"Aplicar"})]})]})]})})}export{te as default};
