import{c as A,j as e,z as Q,A as X,r as x,E as Y,am as Z,H as E,v as B,ap as y,J as ee,aF as ae,x as _,aq as D,h as re,f as U,m as H,i as le,B as O,k as ne,q as ie}from"./index-CDUFvHHy.js";import{F as V,b as W}from"./values-Bv5TCaK7.js";import{D as ce,A as de}from"./ArrowBack-_QKCJo1O.js";import{C as pe}from"./Close-BLrvXVb2.js";import{I as G}from"./IconButton-CKBCGeN1.js";import{F as R,a as $,b as J,S as me}from"./Select-BIYiFrqh.js";import{u as ue,f as he}from"./OutlinedInput-BEgQk4Al.js";import{T as K}from"./Typography-CtsQgoMC.js";import{S as fe}from"./SwitchBase-xTeFnlsR.js";import{m as be,M}from"./MenuItem-BEdSwLJe.js";import"./svgsFormas-Dt1tEIi-.js";import"./ownerWindow-BhYqHES4.js";import"./Modal-ILmEwEZE.js";import"./Paper-DWYSPtrn.js";const xe=A(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),ve=A(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Ce=A(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function ge(s){return X("MuiCheckbox",s)}const T=Q("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),je=s=>{const{classes:t,indeterminate:r,color:d,size:l}=s,p={root:["root",r&&"indeterminate",`color${y(d)}`,`size${y(l)}`]},m=ee(p,ge,t);return{...t,...m}},ke=B(fe,{shouldForwardProp:s=>ae(s)||s==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:r}=s;return[t.root,r.indeterminate&&t.indeterminate,t[`size${y(r.size)}`],r.color!=="default"&&t[`color${y(r.color)}`]]}})(_(({theme:s})=>({color:(s.vars||s).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:s.alpha((s.vars||s).palette.action.active,(s.vars||s).palette.action.hoverOpacity)}}},...Object.entries(s.palette).filter(D()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:s.alpha((s.vars||s).palette[t].main,(s.vars||s).palette.action.hoverOpacity)}}})),...Object.entries(s.palette).filter(D()).map(([t])=>({props:{color:t},style:{[`&.${T.checked}, &.${T.indeterminate}`]:{color:(s.vars||s).palette[t].main},[`&.${T.disabled}`]:{color:(s.vars||s).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),ye=e.jsx(ve,{}),Pe=e.jsx(xe,{}),Fe=e.jsx(Ce,{}),Se=x.forwardRef(function(t,r){const d=Y({props:t,name:"MuiCheckbox"}),{checkedIcon:l=ye,color:p="primary",icon:m=Pe,indeterminate:h=!1,indeterminateIcon:v=Fe,inputProps:P,size:C="medium",disableRipple:g=!1,className:F,slots:o={},slotProps:n={},...u}=d,i=h?v:m,c=h?v:l,a={...d,disableRipple:g,color:p,indeterminate:h,size:C},b=je(a),f=n.input??P,[j,S]=Z("root",{ref:r,elementType:ke,className:E(b.root,F),shouldForwardComponentProp:!0,externalForwardedProps:{slots:o,slotProps:n,...u},ownerState:a,additionalProps:{type:"checkbox",icon:x.cloneElement(i,{fontSize:i.props.fontSize??C}),checkedIcon:x.cloneElement(c,{fontSize:c.props.fontSize??C}),disableRipple:g,slots:o,slotProps:{input:be(typeof f=="function"?f(a):f,{"data-indeterminate":h})}}});return e.jsx(j,{...S,classes:b})});function Ne(s){return X("MuiFormControlLabel",s)}const N=Q("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),we=s=>{const{classes:t,disabled:r,labelPlacement:d,error:l,required:p}=s,m={root:["root",r&&"disabled",`labelPlacement${y(d)}`,l&&"error",p&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",l&&"error"]};return ee(m,Ne,t)},Ie=B("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:r}=s;return[{[`& .${N.label}`]:t.label},t.root,t[`labelPlacement${y(r.labelPlacement)}`]]}})(_(({theme:s})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${N.disabled}`]:{cursor:"default"},[`& .${N.label}`]:{[`&.${N.disabled}`]:{color:(s.vars||s).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),ze=B("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(_(({theme:s})=>({[`&.${N.error}`]:{color:(s.vars||s).palette.error.main}}))),Le=x.forwardRef(function(t,r){const d=Y({props:t,name:"MuiFormControlLabel"}),{checked:l,className:p,componentsProps:m={},control:h,disabled:v,disableTypography:P,inputRef:C,label:g,labelPlacement:F="end",name:o,onChange:n,required:u,slots:i={},slotProps:c={},value:a,...b}=d,f=ue(),j=v??h.props.disabled??(f==null?void 0:f.disabled),S=u??h.props.required,q={disabled:j,required:S};["checked","name","onChange","value","inputRef"].forEach(z=>{typeof h.props[z]>"u"&&typeof d[z]<"u"&&(q[z]=d[z])});const se=he({props:d,muiFormControl:f,states:["error"]}),w={...d,disabled:j,labelPlacement:F,required:S,error:se.error},L=we(w),oe={slots:i,slotProps:{...m,...c}},[te,I]=Z("typography",{elementType:K,externalForwardedProps:oe,ownerState:w});let k=g;return k!=null&&k.type!==K&&!P&&(k=e.jsx(te,{component:"span",...I,className:E(L.label,I==null?void 0:I.className),children:k})),e.jsxs(Ie,{className:E(L.root,p),ownerState:w,ref:r,...b,children:[x.cloneElement(h,q),S?e.jsxs("div",{children:[k,e.jsxs(ze,{ownerState:w,"aria-hidden":!0,className:L.asterisk,children:["â€‰","*"]})]}):k]})});function We({isOpen:s=!1,setIsOpen:t,filtersValues:r}){const d=re(),[l,p]=x.useState(V),m=()=>t(!1),h=o=>{const n=structuredClone(l),u=o.target.name,i=o.target.type,c=o.target.value,a=i==="number"?c:Number(c);n[u]=a,p(n)},v=o=>{const n=structuredClone(l),u=o.target.name;let i=o.target.value;const c=W.find(a=>a.id===u);c!=null&&c.valueArray&&(i?i=i.split(","):i=[]),n[u]=i,p(n)},P=o=>{const n=structuredClone(l),u=o.target.checked,i=o.target.name;n[i]=u,p(n)},C=()=>{let o=ie(l);o&&d(o),m()},g=()=>{p(structuredClone(V)),m()},F=o=>{const n=`${o.format}-${o.id}`;switch(o.format){case"select":const u=l[o.id],i=o.valueArray?u.join(","):u,c=[];return o.items&&Object.entries(o.items).forEach(([a,b])=>{c.push(e.jsx(M,{value:a,className:"font-[menulis] font-semibold capitalize",children:b.label||a},a)),b.subs&&Object.entries(b.subs).forEach(([f,j])=>{c.push(e.jsx(M,{value:a+","+f,className:"font-[menulis] capitalize ps-6",children:j.label||f},a+","+f))})}),e.jsxs(R,{fullWidth:!0,className:"max-w-xs",children:[e.jsx($,{htmlFor:n,children:o.label}),e.jsxs(me,{label:o.label,name:o.id,variant:"outlined",color:"warning",className:"font-[menulis] capitalize",slotProps:{notchedOutline:{className:"rounded-lg"}},inputProps:{id:n},MenuProps:{slotProps:{paper:{className:"rounded-lg mt-1 bg-background"}}},value:i,onChange:v,children:[e.jsx(M,{className:"italic font-[menulis] text-neutral-500 dark:text-neutral-300",children:"Seleccione"}),c]})]});case"number":return e.jsxs("div",{children:[e.jsx("p",{children:o.label}),e.jsx("div",{className:"flex flex-col xs:flex-row gap-1",children:["Min","Max"].map(a=>{const b=l[o.id+a];return e.jsxs(R,{variant:"filled",color:"warning",size:"small",children:[e.jsx($,{htmlFor:`input-${o.id+a}`,children:a}),e.jsx(J,{id:`input-${o.id+a}`,type:"number",name:`${o.id+a}`,inputProps:{min:0},value:b?String(b):"",onChange:h})]},a)})})]});case"check":return e.jsx(Le,{control:e.jsx(Se,{color:"warning",name:o.id,checked:l[o.id],onChange:P}),label:o.label});default:return e.jsxs(R,{variant:"filled",children:[e.jsx($,{htmlFor:n,children:o.label}),e.jsx(J,{id:n,name:o.id,value:String(l[o.id]),onChange:h})]})}};return x.useEffect(()=>{const o={...l,...r};p(o)},[r]),e.jsx(ce,{open:s,onClose:m,anchor:"right",disableScrollLock:!0,sx:{"& .MuiPaper-root":{maxWidth:"250px"}},children:e.jsxs("section",{children:[e.jsxs("article",{className:"p-2 flex items-center justify-between",children:[e.jsx("h1",{className:"font-semibold",children:"Filtros"}),e.jsx(G,{size:"small",className:"text-neutral-500 dark:text-neutral-400",title:"Cerrar",onClick:m,children:e.jsx(pe,{})})]}),e.jsx(U,{className:"bg-neutral-500/50",variant:"middle"}),e.jsx("article",{className:"px-2 overflow-x-hidden",children:e.jsx(H.ol,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","aria-label":"Filtros",className:"space-y-4 p-4",children:W.map(o=>e.jsx(H.li,{variants:{hidden:{opacity:0,x:50},visible:{opacity:1,x:0}},children:F(o)},o.id))})}),e.jsx(U,{className:"bg-neutral-500/50",variant:"middle"}),e.jsxs("article",{className:"px-2 py-4 flex flex-wrap gap-2 justify-center",children:[e.jsx(G,{onClick:m,title:"Cerrar lista de filtros",children:e.jsx(de,{className:"h-6 w-fit"})}),e.jsxs(le,{variant:"contained",children:[e.jsx(O,{color:"inherit",title:"Limpiar filtros",component:"a",href:"#buscar?orderBy=price-asc",onClick:g,sx:{minWidth:0,px:1},children:e.jsx(ne,{className:"h-6 w-fit"})}),e.jsx(O,{color:"secondary",onClick:C,title:"Aplicar filtros",sx:{textTransform:"none",fontFamily:"unset",fontWeight:"bold"},children:"Aplicar"})]})]})]})})}export{We as default};
