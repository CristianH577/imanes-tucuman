import{R as I,aT as T,aH as L,j as s,aJ as M,l as D,r as g,i as _,m as N,f as v,o as O,t as P}from"./index-B8SuEF6L.js";import{hy as y,hA as C}from"./PriceLabel-DCJGWN3I.js";import{l as w,s as z}from"./chunk-2GIFKCNQ-DYos_HMT.js";import{i as F}from"./chunk-6MDMHKHV-DjGPFu_h.js";import{u as B,d as U,m as H,a as V,b as K,A as G}from"./ArrowBack-CaqkbAiP.js";import"./svgsFormas-DL1Ko14C.js";import"./useDialog-C52k3fZ4.js";function S(u){return null}S.getCollectionNode=function*(o){let{children:i,title:h,items:t}=o;yield{type:"section",props:o,hasChildNodes:!0,rendered:h,"aria-label":o["aria-label"],*childNodes(){if(typeof i=="function"){if(!t)throw new Error("props.children was a function but props.items is missing");for(let l of t)yield{type:"item",value:l,renderer:i}}else{let l=[];I.Children.forEach(i,n=>{l.push({type:"item",element:n})}),yield*l}}}};let J=S;var q=J,Q=q,A=T((u,o)=>{const{as:i,children:h,className:t,...l}=u,{slots:n,classNames:x}=B(),p=L(o),b=i||"footer";return s.jsx(b,{ref:p,className:n.footer({class:M(x==null?void 0:x.footer,t)}),...l,children:h})});A.displayName="HeroUI.ModalFooter";var W=A;function te({isOpen:u=!1,setIsOpen:o,filtersValues:i}){const h=D(),[t,l]=g.useState(y),n=()=>o(!1),x=e=>{const d=structuredClone(t),m=e.target.name,r=e.target.type,c=e.target.value,a=r==="number"?c:Number(c);d[m]=a,l(d)},p=e=>{const d=structuredClone(t),m=e.target.name;let r=e.target.value;const c=C.find(a=>a.id===m);c!=null&&c.valueArray&&(r?r=r.split(","):r=[]),d[m]=r,l(d)},b=()=>{let e=P(t);e&&h(e),n()},$=()=>{l(structuredClone(y)),n()},E=e=>{const d=`${e.format}-${e.id}`;switch(e.format){case"select":const m=t[e.id],r=e.valueArray?m.join(","):m,c=e.items&&Object.entries(e.items).map(([a,f])=>s.jsxs(s.Fragment,{children:[s.jsx(w,{children:f.label||a},a),f.subs&&s.jsx(Q,{showDivider:!0,title:f.label||a,children:Object.entries(f.subs).map(([j,R])=>s.jsx(w,{children:R.label||j},a+","+j))},"section-"+a)]}));return s.jsx(z,{className:"max-w-xs text-foreground",classNames:{listbox:"text-foreground capitalize",popoverContent:"border-3 border-custom1-3",value:"capitalize"},label:e.label,name:e.id,selectedKeys:[r],onChange:p,children:c});case"number":return s.jsxs("div",{children:[s.jsx("p",{children:e.label}),s.jsx("div",{className:"xs:flex gap-1",children:["Min","Max"].map(a=>{const f=t[e.id+a];return s.jsx(F,{type:"number",size:"sm",className:"capitalize",id:`input-${e.id+a}`,label:a,name:`${e.id+a}`,value:f?String(f):"",onChange:x},a)})})]});default:return s.jsx(F,{id:d,label:e.label,name:e.id,value:String(t[e.id]),onChange:x})}};return g.useEffect(()=>{const e={...t,...i};l(e)},[i]),s.jsx(U,{isOpen:u,onClose:n,onOpenChange:()=>o(!0),className:"max-w-[250px] text-foreground",children:s.jsxs(H,{children:[s.jsx(V,{className:"pb-0",children:"Filtros"}),s.jsxs(K,{className:"px-2 overflow-x-hidden",children:[s.jsx(_,{className:"bg-neutral-500/50"}),s.jsx(N.ol,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","aria-label":"Filtros",className:"space-y-4 p-4",children:C.map(e=>s.jsx(N.li,{variants:{hidden:{opacity:0,x:50},visible:{opacity:1,x:0}},children:E(e)},e.id))}),s.jsx(_,{className:"bg-neutral-500/50"})]}),s.jsxs(W,{className:"px-2 py-4 flex flex-wrap gap-2 justify-center",children:[s.jsx(v,{isIconOnly:!0,variant:"light",onPress:n,title:"Cerrar lista de filtros",children:s.jsx(G,{className:"h-6 w-fit"})}),s.jsx(v,{isIconOnly:!0,title:"Limpiar filtros",as:"a",href:"#buscar?orderBy=price-asc",onPress:$,children:s.jsx(O,{className:"h-6 w-fit"})}),s.jsx(v,{color:"primary",onPress:b,title:"Aplicar filtros",className:"font-semibold",children:"Aplicar"})]})]})})}export{te as default};
