import{ay as N,aW as C,r as o,aX as E,aF as q,aY as R,aE as A,aZ as Q,a_ as Y,j as M}from"./index-cr0xH0OP.js";var K=N({base:"flex flex-col gap-2 items-start"});function W(...e){return e.length===1&&e[0]?e[0]:t=>{let a=!1;const r=e.map(i=>{const l=j(i,t);return a||(a=typeof l=="function"),l});if(a)return()=>{r.forEach((i,l)=>{typeof i=="function"?i():j(e[l],null)})}}}function j(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function X(e,t){let{id:a,"aria-label":r,"aria-labelledby":i}=e;return a=C(a),i&&r?i=[...new Set([a,...i.trim().split(/\s+/)])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),!r&&!i&&t&&(r=t),{id:a,"aria-label":r,"aria-labelledby":i}}function Z(e){const t=o.useRef(null),a=o.useRef(void 0),r=o.useCallback(i=>{if(typeof e=="function"){const l=e,n=l(i);return()=>{typeof n=="function"?n():l(null)}}else if(e)return e.current=i,()=>{e.current=null}},[e]);return o.useMemo(()=>({get current(){return t.current},set current(i){t.current=i,a.current&&(a.current(),a.current=void 0),i!=null&&(a.current=r(i))}}),[r])}function oe(e,t,a){let r=o.useRef(t),i=E(()=>{a&&a(r.current)});o.useEffect(()=>{var l;let n=e==null||(l=e.current)===null||l===void 0?void 0:l.form;return n==null||n.addEventListener("reset",i),()=>{n==null||n.removeEventListener("reset",i)}},[e,i])}function se(e,t,a){let[r,i]=o.useState(e||t),l=o.useRef(e!==void 0),n=e!==void 0;o.useEffect(()=>{l.current,l.current=n},[n]);let d=n?e:r,s=o.useCallback((u,...c)=>{let v=(b,...m)=>{a&&(Object.is(d,b)||a(b,...m)),n||(d=b)};typeof u=="function"?i((m,...p)=>{let $=u(n?d:m,...p);return v($,...c),n?m:$}):(n||i(u),v(u,...c))},[n,d,a]);return[d,s]}function de(e){const t=q(),a=t==null?void 0:t.labelPlacement;return o.useMemo(()=>{var r,i;const l=(i=(r=e.labelPlacement)!=null?r:a)!=null?i:"inside";return l==="inside"&&!e.label?"outside":l},[e.labelPlacement,a,e.label])}var ue=globalThis!=null&&globalThis.document?o.useLayoutEffect:o.useEffect;function z(e){let{id:t,label:a,"aria-labelledby":r,"aria-label":i,labelElementType:l="label"}=e;t=C(t);let n=C(),d={};a&&(r=r?`${n} ${r}`:n,d={id:n,htmlFor:l==="label"?t:void 0});let s=X({id:t,"aria-label":i,"aria-labelledby":r});return{labelProps:d,fieldProps:s}}function ce(e){let{description:t,errorMessage:a,isInvalid:r,validationState:i}=e,{labelProps:l,fieldProps:n}=z(e),d=R([!!t,!!a,r,i]),s=R([!!t,!!a,r,i]);return n=A(n,{"aria-describedby":[d,s,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),{labelProps:l,fieldProps:n,descriptionProps:{id:d},errorMessageProps:{id:s}}}function fe(e,t,a){let{validationBehavior:r,focus:i}=e;Q(()=>{if(r==="native"&&(a!=null&&a.current)&&!a.current.disabled){let s=t.realtimeValidation.isInvalid?t.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";a.current.setCustomValidity(s),a.current.hasAttribute("title")||(a.current.title=""),t.realtimeValidation.isInvalid||t.updateValidation(H(a.current))}});let l=E(()=>{t.resetValidation()}),n=E(s=>{var u;t.displayValidation.isInvalid||t.commitValidation();let c=a==null||(u=a.current)===null||u===void 0?void 0:u.form;if(!s.defaultPrevented&&a&&c&&J(c)===a.current){var v;i?i():(v=a.current)===null||v===void 0||v.focus(),Y("keyboard")}s.preventDefault()}),d=E(()=>{t.commitValidation()});o.useEffect(()=>{let s=a==null?void 0:a.current;if(!s)return;let u=s.form;return s.addEventListener("invalid",n),s.addEventListener("change",d),u==null||u.addEventListener("reset",l),()=>{s.removeEventListener("invalid",n),s.removeEventListener("change",d),u==null||u.removeEventListener("reset",l)}},[a,n,d,l,r])}function G(e){let t=e.validity;return{badInput:t.badInput,customError:t.customError,patternMismatch:t.patternMismatch,rangeOverflow:t.rangeOverflow,rangeUnderflow:t.rangeUnderflow,stepMismatch:t.stepMismatch,tooLong:t.tooLong,tooShort:t.tooShort,typeMismatch:t.typeMismatch,valueMissing:t.valueMissing,valid:t.valid}}function H(e){return{isInvalid:!e.validity.valid,validationDetails:G(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function J(e){for(let t=0;t<e.elements.length;t++){let a=e.elements[t];if(!a.validity.valid)return a}return null}const T={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},O={...T,customError:!0,valid:!1},y={isInvalid:!1,validationDetails:T,validationErrors:[]},_=o.createContext({}),w="__formValidationState"+Date.now();function ve(e){if(e[w]){let{realtimeValidation:t,displayValidation:a,updateValidation:r,resetValidation:i,commitValidation:l}=e[w];return{realtimeValidation:t,displayValidation:a,updateValidation:r,resetValidation:i,commitValidation:l}}return ee(e)}function ee(e){let{isInvalid:t,validationState:a,name:r,value:i,builtinValidation:l,validate:n,validationBehavior:d="aria"}=e;a&&(t||(t=a==="invalid"));let s=t!==void 0?{isInvalid:t,validationErrors:[],validationDetails:O}:null,u=o.useMemo(()=>{if(!n||i==null)return null;let f=te(n,i);return B(f)},[n,i]);l!=null&&l.validationDetails.valid&&(l=void 0);let c=o.useContext(_),v=o.useMemo(()=>r?Array.isArray(r)?r.flatMap(f=>P(c[f])):P(c[r]):[],[c,r]),[b,m]=o.useState(c),[p,$]=o.useState(!1);c!==b&&(m(c),$(!1));let x=o.useMemo(()=>B(p?[]:v),[p,v]),L=o.useRef(y),[g,h]=o.useState(y),V=o.useRef(y),k=()=>{if(!U)return;S(!1);let f=u||l||L.current;I(f,V.current)||(V.current=f,h(f))},[U,S]=o.useState(!1);return o.useEffect(k),{realtimeValidation:s||x||u||l||y,displayValidation:d==="native"?s||x||g:s||x||u||l||g,updateValidation(f){d==="aria"&&!I(g,f)?h(f):L.current=f},resetValidation(){let f=y;I(f,V.current)||(V.current=f,h(f)),d==="native"&&S(!1),$(!0)},commitValidation(){d==="native"&&S(!0),$(!0)}}}function P(e){return e?Array.isArray(e)?e:[e]:[]}function te(e,t){if(typeof e=="function"){let a=e(t);if(a&&typeof a!="boolean")return P(a)}return[]}function B(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:O}:null}function I(e,t){return e===t?!0:!!e&&!!t&&e.isInvalid===t.isInvalid&&e.validationErrors.length===t.validationErrors.length&&e.validationErrors.every((a,r)=>a===t.validationErrors[r])&&Object.entries(e.validationDetails).every(([a,r])=>t.validationDetails[a]===r)}var D=Symbol("default");function ae(e,t){let a=o.useContext(e);if(t===null)return null;if(a&&typeof a=="object"&&"slots"in a&&a.slots){let r=new Intl.ListFormat().format(Object.keys(a.slots).map(l=>`"${l}"`));if(!t&&!a.slots[D])throw new Error(`A slot prop is required. Valid slot names are ${r}.`);let i=t||D;if(!a.slots[i])throw new Error(`Invalid slot "${t}". Valid slot names are ${r}.`);return a.slots[i]}return a}function ie(e,t,a){let r=ae(a,e.slot)||{},{ref:i,...l}=r,n=Z(o.useMemo(()=>W(t,i),[t,i])),d=A(l,e);return"style"in l&&l.style&&"style"in e&&e.style&&(typeof l.style=="function"||typeof e.style=="function"?d.style=s=>{let u=typeof l.style=="function"?l.style(s):l.style,c={...s.defaultStyle,...u},v=typeof e.style=="function"?e.style({...s,defaultStyle:c}):e.style;return{...c,...v}}:d.style={...l.style,...e.style}),[d,n]}var F=o.createContext(null);o.forwardRef(function(t,a){[t,a]=ie(t,a,F);let{validationErrors:r,validationBehavior:i="native",children:l,className:n,...d}=t;const s=o.useMemo(()=>K({className:n}),[n]);return M.jsx("form",{noValidate:i!=="native",...d,ref:a,className:s,children:M.jsx(F.Provider,{value:{...t,validationBehavior:i},children:M.jsx(_.Provider,{value:r??{},children:l})})})});export{se as $,F,ve as a,ce as b,oe as c,fe as d,ue as e,de as f,z as g,W as h,X as i,ae as u};
