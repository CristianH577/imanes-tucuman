import{o as w,r as p,p as x,j as a,i as u,m as h,bF as F,f as c,l as A,s as E,x as I}from"./index-6F-77QWa.js";import{d as T,A as L}from"./ArrowBack-C9tL6MuH.js";import{m as P}from"./chunk-O5MCAK4F-C4C30m-Z.js";import{a as $,b as B,c as R}from"./chunk-3BLMMOBU-C4qjBhPD.js";import{i as b}from"./chunk-6MDMHKHV-zdC1mOVB.js";import{l as _,s as U}from"./chunk-2GIFKCNQ-BC-1P7Md.js";import"./chunk-736YWA4T-DCpY4-Mx.js";import"./useDialog-D3qEzO5Y.js";import"./useOverlayTriggerState-BnJ_euvQ.js";import"./FocusScope-DQdP178B.js";import"./useControlledState-CT8l01GG.js";import"./mergeRefs-DmiLXYt3.js";import"./index-B2GnKZpK.js";import"./Item-Df-u7j7m.js";import"./useListState-C9h1dMeQ.js";import"./SelectionManager-DhyaXPCL.js";import"./useMenuTriggerState-BHYpgElG.js";import"./DOMLayoutDelegate-Bp1KqyKp.js";import"./useSelectableItem-LPvpTVb2.js";import"./useCollator-L4GfGI3J.js";import"./ListKeyboardDelegate-CNg4HECw.js";import"./index-Cr5HUyEN.js";function ie({isOpen:j=!1,setIsOpen:d,filtersValues:m}){const g=w(),[t,o]=p.useState(x),n=()=>d(!1),f=e=>{const r=structuredClone(t),l=e.target.name,s=e.target.type,i=e.target.value,S=s==="number"?i:Number(i);r[l]=S,o(r)},v=e=>{const r=structuredClone(t),l=e.target.name,s=e.target.value;r[l]=s,o(r)},C=()=>{let e=I(t);e&&g(e),n()},N=()=>{o(structuredClone(x)),n()},y=e=>{const r=`${e.format}-${e.id}`;switch(e.format){case"select":const l=(e.items||[]).map(s=>a.jsx(_,{children:s.label},s.id));return a.jsxs(U,{className:"max-w-xs text-foreground",classNames:{listbox:"text-foreground ",popoverContent:"border-3 border-custom1-3"},label:e.label,name:e.id,selectedKeys:[t[e.id]],onChange:v,children:[a.jsx(_,{children:"Seleccione un valor"},""),l]});case"number":return a.jsxs("div",{children:[a.jsx("p",{children:e.label}),a.jsx("div",{className:"xs:flex gap-1",children:["Min","Max"].map(s=>{const i=t[e.id+s];return a.jsx(b,{type:"number",size:"sm",className:"capitalize",id:`input-${e.id+s}`,label:s,name:`${e.id+s}`,value:i?String(i):"",onChange:f},s)})})]});default:return a.jsx(b,{id:r,label:e.label,name:e.id,value:String(t[e.id]),onChange:f})}};return p.useEffect(()=>{const e={...t,...m};o(e)},[m]),a.jsx(T,{isOpen:j,onClose:n,onOpenChange:()=>d(!0),className:"max-w-[250px] text-foreground",children:a.jsxs($,{children:[a.jsx(B,{className:"pb-0",children:"Filtros"}),a.jsxs(R,{className:"px-2 overflow-x-hidden",children:[a.jsx(u,{}),a.jsx(h.ol,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","aria-label":"Filtros",className:"space-y-4 p-4",children:F.map(e=>a.jsx(h.li,{variants:{hidden:{opacity:0,x:50},visible:{opacity:1,x:0}},children:y(e)},e.id))}),a.jsx(u,{})]}),a.jsxs(P,{className:"px-2 py-4 flex flex-wrap gap-2 justify-center",children:[a.jsx(c,{isIconOnly:!0,variant:"light",onPress:n,title:"Cerrar lista de filtros",children:a.jsx(L,{className:"h-6 w-fit"})}),a.jsx(c,{isIconOnly:!0,title:"Limpiar filtros",as:A,href:"#buscar?orderBy=price-asc",onPress:N,children:a.jsx(E,{className:"h-6 w-fit"})}),a.jsx(c,{color:"primary",onPress:C,title:"Aplicar filtros",className:"font-semibold",children:"Aplicar"})]})]})})}export{ie as default};
