import{r as l,z as V,j as e,m as d,f as N,w as k,u as M,A as _,B as D}from"./index-DQxm28TJ.js";import{s as v}from"./tvs-BJd3oYTX.js";import{B as z}from"./ButtonAddCart-a-Y7LCF4.js";import{C as A}from"./Compare-CGk7otDV.js";import{S as I,a as L,b as R,c as T,d as P}from"./svgsFormas-BMtEZbxQ.js";import{B}from"./Button-C3uDDWtc.js";import"./ShoppingCart-C2mG2a1z.js";import"./ButtonBase-B4dZQDRK.js";const y=15;function E({setItemToComparate:n=o=>{},tableAriaLabel:r="",measureFormat:u="",rows:i=[],cart:c,handleAdd:p}){const o=l.useRef(null),t=V(o),[a,S]=l.useState(y),f=i.slice(0,a),h=()=>{const s=a+y;S(s)};return l.useEffect(()=>{t&&h()},[t]),e.jsx(d.div,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","data-slot":"table-container",className:"w-full overflow-x-auto "+v,children:e.jsxs("table",{"aria-label":r||void 0,className:"w-full xs:min-w-[750px] text-tert table- max-xs:border-separate border-spacing-y-3",children:[e.jsx("thead",{className:"border-b-3 max-xs:hidden",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"p-2 border-e-3",children:[e.jsx("p",{children:"Medida"}),u||null]}),e.jsx("th",{colSpan:4,className:"p-2",children:e.jsxs("p",{children:["Precio(xU)",e.jsx("span",{className:"font-size-secondary",children:"Unidades minimas"})]})})]})}),e.jsxs("tbody",{children:[f==null?void 0:f.map(s=>{var j;const C=(s==null?void 0:s.noStock)||!1,b=s.id in c;return e.jsxs(d.tr,{variants:{hidden:{opacity:0,x:100},visible:{opacity:1,x:0}},className:"group hover:font-semibold hover:bg-secondary/30 data-[incart=false]:data-[nostock=true]:bg-divider data-[incart=true]:!bg-success/30 max-xs:grid max-xs:grid-cols-1 max-xs:border-3 max-xs:rounded-lg max-xs:mb-3 xs:even:text-custom2-10 xs:dark:even:text-custom1","data-nostock":C,"data-incart":b,children:[e.jsx("td",{className:"px-2 py-1 xs:py-2 whitespace-nowrap xs:col-span-2 max-xs:border-b-3 xs:border-e-3 xs:text-start",children:e.jsxs("div",{className:"flex gap-1 xs:gap-2 justify-end items-center w-full max-xs:flex-col xs:flex-row-reverse break-all",children:[e.jsx("a",{href:"#buscar/"+s.id,title:"Ver producto",className:"max-xs:whitespace-normal hover:underline",children:s.label}),e.jsx(N,{color:"secondary",isIconOnly:!0,className:"shadow-md",title:"Ver referencia de tamaños",isDisabled:!s.isComparable,onPress:()=>n(s),children:e.jsx(A,{className:"h-7 w-fit"})})]})}),((j=s==null?void 0:s.price_data)==null?void 0:j.prices_qtts)&&Object.entries(s.price_data.prices_qtts).map(([x,F])=>{const g=b&&c[s.id]===Number(x);return e.jsx("td",{className:"px-2 py-1 xs:py-2",children:e.jsxs("div",{className:"flex flex-col gap-1 xs:gap-2 justify-end items-center",children:[e.jsxs("p",{className:"max-xs:break-all",children:[k(F),e.jsxs("span",{className:"font-size-secondary",children:["(",x,"u)"]})]}),e.jsx(z,{size:"sm",inCart:g,handleAdd:()=>{let w=0;g||(w=Number(x)),p(s.id,w)}})]})},`precio_x${x}`)})]},s.id)}),e.jsx("tr",{children:e.jsx("td",{className:"py-4",children:a<i.length&&e.jsx(N,{ref:o,size:"lg",className:"bg-custom1-2 text-custom2--2 font-bold text-xl hover:scale-105",title:"Mostrar mas",onPress:()=>h(),children:"+Mas"})})})]})]})})}const m=[{label:"redondos",measureFormat:"DxH",form:"redondo",exclude:["fresado","arrastre"],icon:I},{icon:L,label:"redondos fresados",measureFormat:"DxH Ds-Di",form:"redondo",include:["fresado"]},{icon:R,label:"rectangulares",measureFormat:"LxAxH",form:"rectangular",exclude:["fresado"]},{icon:T,label:"rectangulares fresados",measureFormat:"LxAxH Ds-Di",form:"rectangular",include:["fresado"]},{icon:P,label:"cuadrados",measureFormat:"LxLxH",form:"cuadrado"}];function Q(){var o;const n=M(),[r,u]=l.useState(0),[i,c]=l.useState([]),p=m[r].icon;return l.useEffect(()=>{const t=[...m];t.map(a=>a.items=_(a)),c(t)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"max-w-[80%] text-center space-y-4 font-semibold prose dark:prose-invert",children:[e.jsxs("p",{children:[e.jsx("i",{children:"Todos"})," los imanes presentados en las tablas son de"," ",e.jsx("i",{children:"neodimio"})," de alta potencia y sus medidas están en"," ",e.jsx("i",{children:"milímetros"}),".",e.jsx("br",{}),"Seleccione la forma que le interese y revise las medidas y precios. En la tabla podrá ver que varia el precio por unidad según la cantidad.",e.jsx("br",{}),"Las medidas con ",e.jsx("span",{className:"bg-divider px-1",children:"fondo gris"})," es por falta de stock.",e.jsx("br",{}),"Consulte por medidas no listadas."]}),e.jsx("p",{className:"font-size-secondary text-neutral-400",children:"Los precios pueden variar."})]}),e.jsx("section",{className:"max-sm:w-full overflow-x-auto bg-gradient-to-t from-custom2 to-custom2-10 rounded-lg px-2 py-1 shadow-md "+v,children:e.jsx(d.ul,{role:"tabs-wrapper","aria-label":"formas de los imanes",className:"flex w-fit relative gap-2",children:i.map((t,a)=>e.jsx("li",{children:e.jsxs(B,{color:"inherit",size:"small",role:"tab","data-selected":a===r,className:"whitespace-nowrap font-semibold data-[selected=true]:text-shadow-md data-[selected=true]:text-custom2 text-shadow-black/30 text-white",title:"Ver "+t.label,onClick:()=>u(a),children:[r===a&&e.jsx(d.div,{layoutId:"highlight-imanes",className:"absolute right-0 bottom-0 rounded-lg w-full h-full bg-gradient-to-t from-custom1 to-custom1-3"}),e.jsx("span",{className:"z-10 capitalize",children:t.label})]})},a))})}),e.jsx(D,{mode:"wait",children:e.jsxs(d.section,{role:"tabpanel",layoutId:"content-imanes",className:"w-full text-center sm:flex flex-col items-center gap-4",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.3},children:[e.jsx("div",{className:"flex items-center justify-center h-[250px]",children:e.jsx(p,{className:"w-full h-full"})}),e.jsx(E,{tableAriaLabel:`Tabla de precios: ${m[r].label}`,measureFormat:m[r].measureFormat,rows:((o=i[r])==null?void 0:o.items)||[],cart:n.cart.value,handleAdd:n.cart.add,setItemToComparate:n.setMagnetData})]},r)})]})}export{Q as default};
