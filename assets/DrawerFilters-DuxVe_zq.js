import{k as S,r as p,m as u,j as a,a7 as x,bD as w,f as c,l as F,o as E}from"./index-CBjmDVyM.js";import{d as A,A as I}from"./ArrowBack-BG1Wmj1F.js";import{m as T}from"./chunk-O5MCAK4F-D6uVjNsj.js";import{a as L,b as P,c as $}from"./chunk-3BLMMOBU-3kgIo_ag.js";import{i as h}from"./chunk-6MDMHKHV-8SnpqMX3.js";import{l as _,s as B}from"./chunk-2GIFKCNQ-BDBaM61L.js";import"./chunk-736YWA4T-DCpY4-Mx.js";import"./useDialog-CGHoGRhv.js";import"./useOverlayTriggerState-CrY9EjbY.js";import"./FocusScope-DCfDB_eq.js";import"./useControlledState--BUp-ADM.js";import"./mergeRefs-DmiLXYt3.js";import"./index-Ma9KZspk.js";import"./Item-TXZcjeMg.js";import"./useListState-DoaG26Cv.js";import"./SelectionManager-BQOlpG57.js";import"./useMenuTriggerState-BTBB0mcF.js";import"./DOMLayoutDelegate-BF3JoJ3q.js";import"./useSelectableItem-D-GLVMEi.js";import"./useCollator-XpXPs-IG.js";import"./ListKeyboardDelegate-BGK9s1gD.js";import"./index-Dsd9lhoF.js";function te({isOpen:j=!1,setIsOpen:m,filtersValues:d}){const b=S(),[l,i]=p.useState(u),n=()=>m(!1),f=e=>{const s=structuredClone(l),t=e.target.name,r=e.target.type,o=e.target.value,y=r==="number"?o:Number(o);s[t]=y,i(s)},g=e=>{const s=structuredClone(l),t=e.target.name,r=e.target.value;s[t]=r,i(s)},v=()=>{const e=[];for(const s in l)if(!["apply","page"].includes(s)){const t=l[s];t&&e.push([s,t])}if(e.length>0){let s="";e.forEach((t,r)=>{s+=r===0?"?":"&",s+=t[0]+"="+t[1]}),b(s)}n()},N=()=>{i(structuredClone(u)),n()},C=e=>{const s=`${e.format}-${e.id}`;switch(e.format){case"select":const t=(e.items||[]).map(r=>a.jsx(_,{children:r.label},r.id));return a.jsxs(B,{className:"max-w-xs text-foreground",classNames:{listbox:"text-foreground ",popoverContent:"border-3 border-custom1-3"},label:e.label,name:e.id,selectedKeys:[l[e.id]],onChange:g,children:[a.jsx(_,{children:"Seleccione un valor"},""),t]});case"number":return a.jsxs("div",{children:[a.jsx("p",{children:e.label}),a.jsx("div",{className:"xs:flex gap-1",children:["Min","Max"].map(r=>{const o=l[e.id+r];return a.jsx(h,{type:"number",size:"sm",className:"capitalize",id:`input-${e.id+r}`,label:r,name:`${e.id+r}`,value:o?String(o):"",onChange:f},r)})})]});default:return a.jsx(h,{id:s,label:e.label,name:e.id,value:String(l[e.id]),onChange:f})}};return p.useEffect(()=>{const e={...l,...d};i(e)},[d]),a.jsx(A,{isOpen:j,onClose:n,onOpenChange:()=>m(!0),className:"max-w-[250px] text-foreground",children:a.jsxs(L,{children:[a.jsx(P,{className:"pb-0",children:"Filtros"}),a.jsxs($,{className:"px-2",children:[a.jsx(x,{}),a.jsx("article",{className:"p-4",children:a.jsx("ol",{"aria-label":"Filtros",className:"space-y-4",children:w.map(e=>a.jsx("li",{children:C(e)},e.id))})}),a.jsx(x,{})]}),a.jsxs(T,{className:"px-2 py-4 flex flex-wrap gap-2 justify-center",children:[a.jsx(c,{isIconOnly:!0,variant:"light",onPress:n,title:"Cerrar lista de filtros",children:a.jsx(I,{className:"h-6 w-fit"})}),a.jsx(c,{title:"Limpiar filtros",isIconOnly:!0,as:F,href:"#search?orderBy=price-asc",onPress:N,children:a.jsx(E,{className:"h-6 w-fit"})}),a.jsx(c,{color:"primary",onPress:v,title:"Aplicar filtros",className:"font-semibold",children:"Aplicar"})]})]})})}export{te as default};
