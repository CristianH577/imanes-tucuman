import{r as i,ab as P,j as e,m as p,f as b,a8 as I,u as z,ac as B,v as T}from"./index-6F-77QWa.js";import{s as S}from"./tvs-BJd3oYTX.js";import{B as D}from"./ButtonAddCart-B075Wpp6.js";import{C as A}from"./Compare-dXK2LVp7.js";import{S as q,P as L,a as $,b as E,c as G,d as R}from"./PriceLabel-CiRQCcLX.js";import{t as O,a as y}from"./chunk-ML27DD5T-3WhkC0yw.js";import"./ShoppingCart-B0EdQ5d3.js";import"./useControlledState-CT8l01GG.js";import"./useHasTabbableChild-DxwlHIVz.js";import"./FocusScope-DQdP178B.js";import"./chunk-LGMZDQT5-BtPe53cl.js";import"./useSelectableItem-LPvpTVb2.js";import"./SelectionManager-DhyaXPCL.js";import"./features-animation-stN3I1-9.js";import"./useListState-C9h1dMeQ.js";import"./index-BBX1FrRh.js";import"./Item-Df-u7j7m.js";const C=10;function U({setItemToComparate:o=l=>{},tableAriaLabel:c="",measureFormat:m="",rows:d=[],cart:s,handleAdd:t=l=>{}}){const l=i.useRef(null),r=P(l),[n,F]=i.useState(C),h=d.slice(0,n),j=()=>{const a=n+C;F(a)};return i.useEffect(()=>{r&&j()},[r]),e.jsx(p.div,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","data-slot":"table-container",className:"w-full overflow-x-auto "+S,children:e.jsxs("table",{"aria-label":c||void 0,className:"w-full xs:min-w-[750px] text-tert table- max-xs:border-separate border-spacing-y-3",children:[e.jsx("thead",{className:"border-b-3 max-xs:hidden",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"p-2 border-e-3",children:[e.jsx("p",{children:"Medida"}),m||null]}),e.jsx("th",{colSpan:4,className:"p-2",children:e.jsxs("p",{children:["Precio(xU)",e.jsx("span",{className:"font-size-secondary",children:"Unidades minimas"})]})})]})}),e.jsxs("tbody",{children:[h==null?void 0:h.map(a=>{var v;const M=(a==null?void 0:a.noStock)||!1,g=a.id in s;return e.jsxs(p.tr,{variants:{hidden:{opacity:0,x:100},visible:{opacity:1,x:0}},className:"group hover:font-semibold hover:bg-secondary/30 data-[incart=false]:data-[nostock=true]:bg-divider data-[incart=true]:!bg-success/30 max-xs:grid max-xs:grid-cols-1 max-xs:border-3 max-xs:rounded-lg max-xs:mb-3 xs:even:text-custom2-10 xs:dark:even:text-custom1","data-nostock":M,"data-incart":g,children:[e.jsx("td",{className:"px-2 py-1 xs:py-2 whitespace-nowrap xs:col-span-2 max-xs:border-b-3 xs:border-e-3 xs:text-start",children:e.jsxs("div",{className:"flex gap-1 xs:gap-2 justify-end items-center w-full max-xs:flex-col xs:flex-row-reverse break-all",children:[e.jsx("a",{href:"#buscar/"+a.id,title:"Ver producto",className:"max-xs:whitespace-normal",children:a.label}),e.jsx(b,{color:"secondary",isIconOnly:!0,className:"shadow-md",title:"Ver referencia de tamaños",onPress:()=>o(a),children:e.jsx(A,{className:"h-7 w-fit"})})]})}),((v=a==null?void 0:a.price_data)==null?void 0:v.prices_qtts)&&Object.entries(a.price_data.prices_qtts).map(([x,V])=>{const N=g&&s[a.id].qtt===Number(x);return e.jsx("td",{className:"px-2 py-1 xs:py-2",children:e.jsxs("div",{className:"flex flex-col gap-1 xs:gap-2 justify-end items-center",children:[e.jsxs("p",{className:"max-xs:break-all",children:[I(V),e.jsxs("span",{className:"font-size-secondary",children:["(",x,"u)"]})]}),e.jsx(D,{size:"sm",inCart:N,itemData:a,handleAdd:()=>{let w=0;N||(w=Number(x)),a.qtt=w,t(a)}})]})},`precio_x${x}`)})]},a.id)}),e.jsx("tr",{children:e.jsx("td",{className:"pt-4",children:n<d.length&&e.jsx(b,{ref:l,size:"lg",className:"bg-custom1-2 text-custom2--2 font-bold text-xl hover:scale-105",title:"Mostrar mas",onPress:()=>j(),children:"+Mas"})})})]})]})})}const _=[{id:"alto",label:"B",measure:"mm"},{id:"alto total",label:"C",measure:"mm"},{id:"peso",label:"Peso",measure:"g"},{id:"fuerza",label:"Fuerza",measure:"kg"}],u="p-2 data-[incart=false]:group-hover:bg-secondary/30 data-[nostock=true]:bg-divider data-[incart=true]:!bg-success/30",f="max-sm:last:border-b-3 max-sm:border-x-3 max-sm:last:rounded-b-lg";function H({rows:o,cart:c,setItemToComparate:m,handleAdd:d}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center h-[250px]",children:e.jsx(q,{className:"h-full w-full max-h-[250px]"})}),e.jsx(p.div,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","data-slot":"table-container",className:"w-full overflow-x-auto "+S,children:e.jsxs("table",{"aria-label":"Tabla de precios: imanes de arrastre",className:"w-full sm:min-w-[750px] text-tert table-dinamic max-sm:border-separate border-spacing-y-3 lg:w-fit lg:place-self-center",children:[e.jsx("thead",{className:"border-b-3",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border-e-3",children:"A"}),_.map(s=>e.jsx("th",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"capitalize",children:s.label}),"(",s.measure,")"]})},s.id)),e.jsx("th",{className:"p-2 text-end",children:"Precio"}),e.jsx("th",{className:"p-2"})]})}),e.jsxs("tbody",{children:[o.map(s=>{const t=s==null?void 0:s.noStock,l=s.id in c;return e.jsxs(p.tr,{variants:{hidden:{opacity:0,x:100},visible:{opacity:1,x:0}},className:"even:text-custom2-10 dark:even:text-custom1 group hover:font-semibold",children:[e.jsx("td",{className:"text-start whitespace-nowrap sm:border-e-3 max-sm:border-3 max-sm:rounded-t-lg "+u,"data-incart":l,"data-nostock":t,children:e.jsxs("div",{className:"flex gap-2 justify-end items-center w-full sm:flex-row-reverse",children:[e.jsx("span",{children:s.label}),e.jsx(b,{color:"secondary",isIconOnly:!0,className:"shadow-md",title:"Ver referencia de tamaños",onPress:()=>m(s),children:e.jsx(A,{className:"h-7 w-fit"})})]})}),_.map(r=>{var n;return e.jsx("td",{className:f+" "+u,"data-incart":l,"data-nostock":t,"data-label":`${r.label}(${r.measure})`,children:((n=s.measures)==null?void 0:n[r.id])||"-"},`${s.id}_${r.id}`)}),e.jsx("td",{className:f+" "+u,"data-incart":l,"data-nostock":t,"data-label":"Precio",children:e.jsx(L,{itemData:s})}),e.jsx("td",{className:f+" "+u,"data-incart":l,"data-nostock":t,"data-label":"",children:e.jsx(D,{inCart:l,itemData:s,handleAdd:()=>{let r=0;l||(r=1),s.qtt=r,d(s)}})})]},s.id)}),e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"pt-4"})})]})]})})]})}const k=[{form:"redondo",measureFormat:"AxB",svg:$,items:[]},{form:"cuadrado",measureFormat:"AxBxC",svg:E,items:[]},{form:"redondo fresado",measureFormat:"AxB D-d",svg:G,items:[]},{form:"cuadrado fresado",measureFormat:"AxBxC D-d",svg:R,items:[]}];function ce(){const o=z(),[c,m]=i.useState(k),[d,s]=i.useState([]);return i.useEffect(()=>{const t=[...k];t.map(r=>r.items=B(r.form));const l=T.filter(r=>r.categorie==="imanes"&&r.subcategorie==="arrastre");m(t),s(l)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"max-w-[80%] text-center space-y-4 font-semibold prose dark:prose-invert",children:[e.jsxs("p",{children:[e.jsx("i",{children:"Todos"})," los imanes presentados en las tablas son de"," ",e.jsx("i",{children:"neodimio"})," de alta potencia y sus medidas están en"," ",e.jsx("i",{children:"milímetros"}),".",e.jsx("br",{}),"Seleccione la forma que le interese y revise las medidas y precios. En la tabla podrá ver que varia el precio por unidad según la cantidad.",e.jsx("br",{}),"Las medidas con ",e.jsx("span",{className:"bg-divider px-1",children:"fondo gris"})," es por falta de stock.",e.jsx("br",{}),"Consulte por medidas no listadas."]}),e.jsx("p",{className:"font-size-secondary text-neutral-400",children:"Los precios pueden variar."})]}),e.jsx("section",{className:"w-full text-center md:flex flex-col items-center",children:e.jsxs(O,{"aria-label":"Categorias del imanes",classNames:{tabList:"bg-gradient-to-t from-custom1 to-custom1-3 flex-wrap justify-center w-full",tabContent:"text-custom2 font-bold group-data-[selected=true]:text-white capitalize whitespace-normal",cursor:"bg-gradient-to-t from-custom2 to-custom2-10",panel:"mt-4 flex flex-col items-center gap-2 w-full",tab:"w-fit"},children:[c.map(t=>e.jsxs(y,{title:t.form,children:[e.jsx("div",{className:"flex items-center justify-center h-[250px]",children:e.jsx(t.svg,{className:"w-full h-full"})}),e.jsx(U,{tableAriaLabel:`Tabla de precios: ${t.form}`,measureFormat:t.measureFormat,rows:t.items,cart:o.cart.value,handleAdd:o.cart.add,setItemToComparate:o.setMagnetData})]},t.form)),e.jsx(y,{title:"De arrastre",children:e.jsx(H,{rows:d,cart:o.cart.value,handleAdd:o.cart.add,setItemToComparate:o.setMagnetData})},"drag")]})})]})}export{ce as default};
