import{aT as T,aH as M,j as s,aJ as R,i as D,r as g,g as _,m as N,e as v,l as L,q as O}from"./index-CBLDGgiU.js";import{F as C,b as y}from"./values-B8jjAnlk.js";import{l as w,s as P}from"./chunk-2GIFKCNQ-CNVluy4D.js";import{l as z}from"./chunk-ANTZPR32-sLsefvTo.js";import{i as F}from"./chunk-6MDMHKHV-BktLN0UK.js";import{u as U,d as $,m as B,a as H,b as V,A as K}from"./ArrowBack-rT4j4rM4.js";import"./svgsFormas-CKXiSaCl.js";import"./chunk-SLABUSGS-BTVFUSTG.js";import"./useDialog-BmwyOx0l.js";var A=T((x,f)=>{const{as:u,children:h,className:l,...c}=x,{slots:d,classNames:m}=U(),b=M(f),p=u||"footer";return s.jsx(p,{ref:b,className:d.footer({class:R(m==null?void 0:m.footer,l)}),...c,children:h})});A.displayName="HeroUI.ModalFooter";var q=A;function se({isOpen:x=!1,setIsOpen:f,filtersValues:u}){const h=D(),[l,c]=g.useState(C),d=()=>f(!1),m=e=>{const o=structuredClone(l),n=e.target.name,t=e.target.type,r=e.target.value,a=t==="number"?r:Number(r);o[n]=a,c(o)},b=e=>{const o=structuredClone(l),n=e.target.name;let t=e.target.value;const r=y.find(a=>a.id===n);r!=null&&r.valueArray&&(t?t=t.split(","):t=[]),o[n]=t,c(o)},p=()=>{let e=O(l);e&&h(e),d()},S=()=>{c(structuredClone(C)),d()},E=e=>{const o=`${e.format}-${e.id}`;switch(e.format){case"select":const n=l[e.id],t=e.valueArray?n.join(","):n,r=e.items&&Object.entries(e.items).map(([a,i])=>s.jsxs(s.Fragment,{children:[s.jsx(w,{children:i.label||a},a),i.subs&&s.jsx(z,{showDivider:!0,title:i.label||a,children:Object.entries(i.subs).map(([j,I])=>s.jsx(w,{children:I.label||j},a+","+j))},"section-"+a)]}));return s.jsx(P,{className:"max-w-xs text-foreground",classNames:{listbox:"text-foreground capitalize",popoverContent:"border-3 border-custom1-3",value:"capitalize"},label:e.label,name:e.id,selectedKeys:[t],onChange:b,children:r});case"number":return s.jsxs("div",{children:[s.jsx("p",{children:e.label}),s.jsx("div",{className:"flex flex-col xs:flex-row gap-1",children:["Min","Max"].map(a=>{const i=l[e.id+a];return s.jsx(F,{type:"number",size:"sm",className:"capitalize",id:`input-${e.id+a}`,label:a,name:`${e.id+a}`,value:i?String(i):"",onChange:m},a)})})]});default:return s.jsx(F,{id:o,label:e.label,name:e.id,value:String(l[e.id]),onChange:m})}};return g.useEffect(()=>{const e={...l,...u};c(e)},[u]),s.jsx($,{isOpen:x,onClose:d,onOpenChange:()=>f(!0),className:"max-w-[250px] text-foreground",children:s.jsxs(B,{children:[s.jsx(H,{className:"pb-0",children:"Filtros"}),s.jsxs(V,{className:"px-2 overflow-x-hidden",children:[s.jsx(_,{className:"bg-neutral-500/50"}),s.jsx(N.ol,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","aria-label":"Filtros",className:"space-y-4 p-4",children:y.map(e=>s.jsx(N.li,{variants:{hidden:{opacity:0,x:50},visible:{opacity:1,x:0}},children:E(e)},e.id))}),s.jsx(_,{className:"bg-neutral-500/50"})]}),s.jsxs(q,{className:"px-2 py-4 flex flex-wrap gap-2 justify-center",children:[s.jsx(v,{isIconOnly:!0,variant:"light",onPress:d,title:"Cerrar lista de filtros",children:s.jsx(K,{className:"h-6 w-fit"})}),s.jsx(v,{isIconOnly:!0,title:"Limpiar filtros",as:"a",href:"#buscar?orderBy=price-asc",onPress:S,children:s.jsx(L,{className:"h-6 w-fit"})}),s.jsx(v,{color:"secondary",onPress:p,title:"Aplicar filtros",className:"font-semibold",children:"Aplicar"})]})]})})}export{se as default};
