import{r as l,a0 as k,j as e,m as d,B as f,R as V,u as z,a1 as D}from"./index-DVZ5-4wt.js";import{s as y}from"./tvs-BJd3oYTX.js";import{B as M}from"./ButtonAddCart-CO-TxK33.js";import{C as R,T}from"./TooltipFuerzaExp-DeUY1k2j.js";import{S as A,a as E,b as L,c as I,d as _}from"./svgsFormas-BO0OFfwE.js";import{A as B}from"./index-CKVzOtJS.js";import"./ShoppingCart-DPjG__57.js";import"./IconButton-xLn_Oncu.js";const v=15;function G({setItemToComparate:n=o=>{},tableAriaLabel:r="",measureFormat:u="",rows:i=[],cart:c,handleAdd:p}){const o=l.useRef(null),t=k(o),[a,S]=l.useState(v),h=i.slice(0,a),b=()=>{const s=a+v;S(s)};return l.useEffect(()=>{t&&b()},[t]),e.jsx(d.div,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","data-slot":"table-container",className:"w-full overflow-x-auto "+y,children:e.jsxs("table",{"aria-label":r||void 0,className:"w-full xs:min-w-[750px] text-tert table- max-xs:border-separate border-spacing-y-3",children:[e.jsx("thead",{className:"border-b-4 max-xs:hidden",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"p-2 border-e-4",children:[e.jsx("p",{children:"Medida"}),u||null]}),e.jsx("th",{colSpan:4,className:"p-2",children:e.jsxs("p",{children:["Precio(xU)",e.jsx("span",{className:"font-size-secondary",children:"Unidades minimas"})]})})]})}),e.jsxs("tbody",{children:[h==null?void 0:h.map(s=>{var g;const C=(s==null?void 0:s.noStock)||!1,j=s.id in c;return e.jsxs(d.tr,{variants:{hidden:{opacity:0,x:100},visible:{opacity:1,x:0}},className:"group hover:font-semibold hover:bg-secondary/30 data-[incart=false]:data-[nostock=true]:bg-divider/15 data-[incart=true]:!bg-success/30 max-xs:grid max-xs:grid-cols-1 max-xs:border-2 max-xs:rounded-lg max-xs:mb-3 xs:even:text-custom2-10 xs:dark:even:text-custom1","data-nostock":C,"data-incart":j,children:[e.jsxs("td",{className:"px-2 py-1 xs:py-2 whitespace-nowrap xs:col-span-2 max-xs:border-b-4 xs:border-e-4 xs:text-start",children:[e.jsxs("div",{className:"flex flex-col gap-1 xs:gap-2 items-center w-full break-all max-xs:py-1 xs:flex-row",children:[e.jsx(f,{color:"secondary",variant:"contained",size:"small",className:"shadow-md",title:"Ver referencia de tamaños",disabled:!s.isComparable,onClick:()=>n(s),sx:{minWidth:0,px:1,borderRadius:2},children:e.jsx(R,{className:"h-7 w-fit"})}),e.jsx("a",{href:"#buscar/"+s.id,title:"Ver producto",className:"max-xs:whitespace-normal hover:underline",children:s.label})]}),s.measures&&s.measures.fuerzaExp&&e.jsxs("p",{className:"text-center mt-1",children:[e.jsx(T,{exp:!0})," ≈",s.measures.fuerzaExp,"kg"]})]}),((g=s==null?void 0:s.priceData)==null?void 0:g.pricesQtts)&&Object.entries(s.priceData.pricesQtts).map(([x,F])=>{const w=j&&c[s.id]===Number(x);return e.jsx("td",{className:"p-2",children:e.jsxs("div",{className:"flex flex-col gap-1 xs:gap-2 justify-end items-center",children:[e.jsxs("p",{className:"max-xs:break-all",children:[V(F),e.jsxs("span",{className:"font-size-secondary",children:["(",x,"u)"]})]}),e.jsx(M,{inCart:w,handleAdd:()=>{let N=0;w||(N=Number(x)),p(s.id,N)}})]})},`precio_x${x}`)})]},s.id)}),e.jsx("tr",{children:e.jsx("td",{className:"py-4",children:a<i.length&&e.jsx(f,{ref:o,size:"large",className:"bg-custom1-2 text-custom2 text-xl hover:scale-105",title:"Mostrar mas",onClick:()=>b(),sx:{textTransform:"none",borderRadius:3,fontFamily:"unset",fontWeight:"bold"},children:"+Mas"})})})]})]})})}const m=[{label:"redondos",measureFormat:"DxH",form:"redondo",exclude:["fresado","arrastre"],icon:A},{icon:E,label:"redondos fresados",measureFormat:"DxH Ds-Di",form:"redondo",include:["fresado"]},{icon:L,label:"rectangulares",measureFormat:"LxAxH",form:"rectangular",exclude:["fresado"]},{icon:I,label:"rectangulares fresados",measureFormat:"LxAxH Ds-Di",form:"rectangular",include:["fresado"]},{icon:_,label:"cuadrados",measureFormat:"LxLxH",form:"cuadrado"}];function J(){var o;const n=z(),[r,u]=l.useState(0),[i,c]=l.useState([]),p=m[r].icon;return l.useEffect(()=>{const t=[...m];t.map(a=>a.items=D(a)),c(t)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"max-w-[80%] text-center space-y-4 font-semibold prose dark:prose-invert",children:[e.jsxs("p",{children:[e.jsx("i",{children:"Todos"})," los imanes presentados en las tablas son de"," ",e.jsx("i",{children:"neodimio"})," de alta potencia y sus medidas están en"," ",e.jsx("i",{children:"milímetros"}),".",e.jsx("br",{}),"Seleccione la forma que le interese y revise las medidas y precios. En la tabla podrá ver que varia el precio por unidad según la cantidad.",e.jsx("br",{}),"Las medidas con ",e.jsx("span",{className:"bg-divider/15 px-1",children:"fondo gris"})," ","es por falta de stock.",e.jsx("br",{}),"Consulte por medidas no listadas."]}),e.jsx("p",{className:"font-size-secondary text-neutral-400",children:"Los precios pueden variar."})]}),e.jsx("section",{className:"max-sm:w-full overflow-x-auto bg-gradient-to-t from-custom2 to-custom2-10 rounded-lg px-2 py-1 shadow-md "+y,children:e.jsx(d.ul,{role:"tabs-wrapper","aria-label":"formas de los imanes",className:"flex w-fit relative gap-2",children:i.map((t,a)=>e.jsx("li",{children:e.jsxs(f,{color:"inherit",size:"small",role:"tab","data-selected":a===r,className:"whitespace-nowrap font-semibold data-[selected=true]:text-shadow-md data-[selected=true]:text-custom2 text-shadow-black/30 text-white",title:"Ver "+t.label,onClick:()=>u(a),children:[r===a&&e.jsx(d.div,{layoutId:"highlight-imanes",className:"absolute right-0 bottom-0 rounded-lg w-full h-full bg-gradient-to-t from-custom1 to-custom1-3"}),e.jsx("span",{className:"z-10 capitalize",children:t.label})]})},a))})}),e.jsx(B,{mode:"wait",children:e.jsxs(d.section,{role:"tabpanel",layoutId:"content-imanes",className:"w-full text-center sm:flex flex-col items-center gap-4",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.3},children:[e.jsx("div",{className:"flex items-center justify-center h-[250px]",children:e.jsx(p,{className:"w-full h-full"})}),e.jsx(G,{tableAriaLabel:`Tabla de precios: ${m[r].label}`,measureFormat:m[r].measureFormat,rows:((o=i[r])==null?void 0:o.items)||[],cart:n.cart.value,handleAdd:n.cart.add,setItemToComparate:n.setMagnetData})]},r)})]})}export{J as default};
