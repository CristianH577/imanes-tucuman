import{r as l,A as F,j as e,m as i,f as w,x as V,u as _,B as A,E as B}from"./index-CvXnP189.js";import{s as y}from"./tvs-BJd3oYTX.js";import{B as M}from"./ButtonAddCart-BvMHXMt_.js";import{C as z}from"./Compare-DFWyoIy1.js";import{S as I,a as D,b as P,c as T}from"./svgsFormas-C4bhkWyU.js";import{B as E}from"./Button-Dn3Z4OZB.js";import"./ShoppingCart-B8uFUFbq.js";import"./ButtonBase-Bz27KRUz.js";const N=10;function q({setItemToComparate:n=r=>{},tableAriaLabel:t="",measureFormat:m="",rows:d=[],cart:c,handleAdd:u=r=>{}}){const r=l.useRef(null),a=F(r),[p,C]=l.useState(N),h=d.slice(0,p),f=()=>{const s=p+N;C(s)};return l.useEffect(()=>{a&&f()},[a]),e.jsx(i.div,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","data-slot":"table-container",className:"w-full overflow-x-auto "+y,children:e.jsxs("table",{"aria-label":t||void 0,className:"w-full xs:min-w-[750px] text-tert table- max-xs:border-separate border-spacing-y-3",children:[e.jsx("thead",{className:"border-b-3 max-xs:hidden",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"p-2 border-e-3",children:[e.jsx("p",{children:"Medida"}),m||null]}),e.jsx("th",{colSpan:4,className:"p-2",children:e.jsxs("p",{children:["Precio(xU)",e.jsx("span",{className:"font-size-secondary",children:"Unidades minimas"})]})})]})}),e.jsxs("tbody",{children:[h==null?void 0:h.map(s=>{var j;const S=(s==null?void 0:s.noStock)||!1,b=s.id in c;return e.jsxs(i.tr,{variants:{hidden:{opacity:0,x:100},visible:{opacity:1,x:0}},className:"group hover:font-semibold hover:bg-secondary/30 data-[incart=false]:data-[nostock=true]:bg-divider data-[incart=true]:!bg-success/30 max-xs:grid max-xs:grid-cols-1 max-xs:border-3 max-xs:rounded-lg max-xs:mb-3 xs:even:text-custom2-10 xs:dark:even:text-custom1","data-nostock":S,"data-incart":b,children:[e.jsx("td",{className:"px-2 py-1 xs:py-2 whitespace-nowrap xs:col-span-2 max-xs:border-b-3 xs:border-e-3 xs:text-start",children:e.jsxs("div",{className:"flex gap-1 xs:gap-2 justify-end items-center w-full max-xs:flex-col xs:flex-row-reverse break-all",children:[e.jsx("a",{href:"#buscar/"+s.id,title:"Ver producto",className:"max-xs:whitespace-normal hover:underline",children:s.label}),e.jsx(w,{color:"secondary",isIconOnly:!0,className:"shadow-md",title:"Ver referencia de tamaños",onPress:()=>n(s),children:e.jsx(z,{className:"h-7 w-fit"})})]})}),((j=s==null?void 0:s.price_data)==null?void 0:j.prices_qtts)&&Object.entries(s.price_data.prices_qtts).map(([x,k])=>{const g=b&&c[s.id].qtt===Number(x);return e.jsx("td",{className:"px-2 py-1 xs:py-2",children:e.jsxs("div",{className:"flex flex-col gap-1 xs:gap-2 justify-end items-center",children:[e.jsxs("p",{className:"max-xs:break-all",children:[V(k),e.jsxs("span",{className:"font-size-secondary",children:["(",x,"u)"]})]}),e.jsx(M,{size:"sm",inCart:g,itemData:s,handleAdd:()=>{let v=0;g||(v=Number(x)),s.qtt=v,u(s)}})]})},`precio_x${x}`)})]},s.id)}),e.jsx("tr",{children:e.jsx("td",{className:"pt-4",children:p<d.length&&e.jsx(w,{ref:r,size:"lg",className:"bg-custom1-2 text-custom2--2 font-bold text-xl hover:scale-105",title:"Mostrar mas",onPress:()=>f(),children:"+Mas"})})})]})]})})}const o=[{form:"redondo",measureFormat:"AxB",svg:I,items:[]},{form:"cuadrado",measureFormat:"AxBxC",svg:D,items:[]},{form:"redondo fresado",measureFormat:"AxB D-d",svg:P,items:[]},{form:"cuadrado fresado",measureFormat:"AxBxC D-d",svg:T,items:[]}];function K(){const n=_(),[t,m]=l.useState(0),[d,c]=l.useState(o),u=o[t].svg;return l.useEffect(()=>{const r=[...o];r.map(a=>a.items=A(a.form)),c(r)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"max-w-[80%] text-center space-y-4 font-semibold prose dark:prose-invert",children:[e.jsxs("p",{children:[e.jsx("i",{children:"Todos"})," los imanes presentados en las tablas son de"," ",e.jsx("i",{children:"neodimio"})," de alta potencia y sus medidas están en"," ",e.jsx("i",{children:"milímetros"}),".",e.jsx("br",{}),"Seleccione la forma que le interese y revise las medidas y precios. En la tabla podrá ver que varia el precio por unidad según la cantidad.",e.jsx("br",{}),"Las medidas con ",e.jsx("span",{className:"bg-divider px-1",children:"fondo gris"})," es por falta de stock.",e.jsx("br",{}),"Consulte por medidas no listadas."]}),e.jsx("p",{className:"font-size-secondary text-neutral-400",children:"Los precios pueden variar."})]}),e.jsx("section",{className:"max-sm:w-full overflow-x-auto bg-gradient-to-t from-custom2 to-custom2-10 rounded-lg px-2 py-1 shadow-md "+y,children:e.jsx(i.ul,{role:"tabs-wrapper","aria-label":"formas de los imanes",className:"flex w-fit relative gap-2",children:d.map((r,a)=>e.jsx("li",{children:e.jsxs(E,{color:"inherit",size:"small",role:"tab","data-selected":a===t,className:"whitespace-nowrap font-semibold data-[selected=true]:text-shadow-md data-[selected=true]:text-custom2 text-shadow-black/30 text-white",onClick:()=>m(a),children:[t===a&&e.jsx(i.div,{layoutId:"highlight-imanes",className:"absolute right-0 bottom-0 rounded-lg w-full h-full bg-gradient-to-t from-custom1 to-custom1-3"}),e.jsx("span",{className:"z-10 capitalize",children:r.form})]})},a))})}),e.jsx(B,{mode:"wait",children:e.jsxs(i.section,{role:"tabpanel",layoutId:"content-imanes",className:"w-full text-center sm:flex flex-col items-center ",initial:{x:"100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.3},children:[e.jsx("div",{className:"flex items-center justify-center h-[250px]",children:e.jsx(u,{className:"w-full h-full"})}),e.jsx(q,{tableAriaLabel:`Tabla de precios: ${o[t].form}`,measureFormat:o[t].measureFormat,rows:o[t].items,cart:n.cart.value,handleAdd:n.cart.add,setItemToComparate:n.setMagnetData})]},t)})]})}export{K as default};
