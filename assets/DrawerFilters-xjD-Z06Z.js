import{h as T,r as j,j as s,f as v,m as b,i as k,B as g,k as M,q as z}from"./index-DSDHqNJP.js";import{F as C,b as N}from"./values-DIyWvapZ.js";import{D,A as P}from"./ArrowBack-DnGAhsEw.js";import{C as $}from"./Close-woNy5DOM.js";import{I as F}from"./IconButton-BKLhplyU.js";import{F as x,a as h,b as w,S as O}from"./Select-CLF5eg-a.js";import{M as f}from"./MenuItem-I7-4k00Q.js";import"./svgsFormas-D5PYukXM.js";import"./OutlinedInput-BwUozhJ2.js";import"./ownerWindow-CmaziCEf.js";import"./Modal-B0p5Jzr0.js";import"./Paper-D2ZV5P1g.js";function Z({isOpen:y=!1,setIsOpen:I,filtersValues:u}){const S=T(),[i,d]=j.useState(C),c=()=>I(!1),p=e=>{const t=structuredClone(i),n=e.target.name,r=e.target.type,l=e.target.value,a=r==="number"?l:Number(l);t[n]=a,d(t)},_=e=>{const t=structuredClone(i),n=e.target.name;let r=e.target.value;const l=N.find(a=>a.id===n);l!=null&&l.valueArray&&(r?r=r.split(","):r=[]),t[n]=r,d(t)},A=()=>{let e=z(i);e&&S(e),c()},E=()=>{d(structuredClone(C)),c()},B=e=>{const t=`${e.format}-${e.id}`;switch(e.format){case"select":const n=i[e.id],r=e.valueArray?n.join(","):n,l=[];return e.items&&Object.entries(e.items).forEach(([a,o])=>{l.push(s.jsx(f,{value:a,className:"font-[menulis] font-semibold capitalize",children:o.label||a},a)),o.subs&&Object.entries(o.subs).forEach(([m,L])=>{l.push(s.jsx(f,{value:a+","+m,className:"font-[menulis] capitalize ps-6",children:L.label||m},a+","+m))})}),s.jsxs(x,{className:"w-full max-w-xs",children:[s.jsx(h,{id:e.id+"-label",children:e.label}),s.jsxs(O,{labelId:e.id+"-label",id:e.id+"-select",name:e.id,label:e.label,variant:"outlined",color:"warning",className:"font-[menulis] capitalize",slotProps:{notchedOutline:{className:"rounded-lg"}},MenuProps:{slotProps:{paper:{className:"rounded-lg mt-1 bg-background"}}},value:r,onChange:_,children:[s.jsx(f,{className:"italic font-[menulis] text-neutral-500 dark:text-neutral-300",children:"Seleccione"}),l]})]});case"number":return s.jsxs("div",{children:[s.jsx("p",{children:e.label}),s.jsx("div",{className:"flex flex-col xs:flex-row gap-1",children:["Min","Max"].map(a=>{const o=i[e.id+a];return s.jsxs(x,{variant:"filled",color:"warning",size:"small",children:[s.jsx(h,{htmlFor:`input-${e.id+a}`,children:a}),s.jsx(w,{id:`input-${e.id+a}`,type:"number",name:`${e.id+a}`,value:o?String(o):"",onChange:p})]},a)})})]});default:return s.jsxs(x,{variant:"filled",children:[s.jsx(h,{htmlFor:t,children:e.label}),s.jsx(w,{id:t,name:e.id,value:String(i[e.id]),onChange:p})]})}};return j.useEffect(()=>{const e={...i,...u};d(e)},[u]),s.jsx(D,{open:y,onClose:c,anchor:"right",disableScrollLock:!0,sx:{"& .MuiPaper-root":{maxWidth:"250px"}},children:s.jsxs("section",{children:[s.jsxs("article",{className:"p-2 flex items-center justify-between",children:[s.jsx("h1",{className:"font-semibold",children:"Filtros"}),s.jsx(F,{size:"small",className:"text-neutral-500 dark:text-neutral-400",title:"Cerrar",onClick:c,children:s.jsx($,{})})]}),s.jsx(v,{className:"bg-neutral-500/50",variant:"middle"}),s.jsx("article",{className:"px-2 overflow-x-hidden",children:s.jsx(b.ol,{variants:{hidden:{},visible:{transition:{delayChildren:.1,staggerChildren:.1}}},initial:"hidden",animate:"visible","aria-label":"Filtros",className:"space-y-4 p-4",children:N.map(e=>s.jsx(b.li,{variants:{hidden:{opacity:0,x:50},visible:{opacity:1,x:0}},children:B(e)},e.id))})}),s.jsx(v,{className:"bg-neutral-500/50",variant:"middle"}),s.jsxs("article",{className:"px-2 py-4 flex flex-wrap gap-2 justify-center",children:[s.jsx(F,{onClick:c,title:"Cerrar lista de filtros",children:s.jsx(P,{className:"h-6 w-fit"})}),s.jsxs(k,{variant:"contained",children:[s.jsx(g,{color:"inherit",title:"Limpiar filtros",component:"a",href:"#buscar?orderBy=price-asc",onClick:E,sx:{minWidth:0,px:1},children:s.jsx(M,{className:"h-6 w-fit"})}),s.jsx(g,{color:"secondary",onClick:A,title:"Aplicar filtros",sx:{textTransform:"none",fontFamily:"unset",fontWeight:"bold"},children:"Aplicar"})]})]})]})})}export{Z as default};
