import{r as m,a2 as $,aB as S,bO as ue,G as w,A as fe,bG as $e,bM as me,bY as be,bZ as pe,aD as ve,V as C,B as xe}from"./index-Ce4fj8bb.js";import{a as F,$ as he}from"./useOverlayTriggerState-BK6vDqS2.js";import{$ as Ee}from"./useControlledState-CZlM-jJb.js";import{c as ge,d as we}from"./FocusScope-DWznjIve.js";function Ce({children:e}){let t=m.useMemo(()=>({register:()=>{}}),[]);return $.createElement(ge.Provider,{value:t},e)}const E=typeof document<"u"&&window.visualViewport,ye=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let h=0,g;function We(e={}){let{isDisabled:t}=e;S(()=>{if(!t)return h++,h===1&&(ue()?g=Se():g=Te()),()=>{h--,h===0&&g()}},[t])}function Te(){let e=window.innerWidth-document.documentElement.clientWidth;return w(e>0&&("scrollbarGutter"in document.documentElement.style?b(document.documentElement,"scrollbarGutter","stable"):b(document.documentElement,"paddingRight",`${e}px`)),b(document.documentElement,"overflow","hidden"))}function Se(){let e,t,r=i=>{e=F(i.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=b(e,"overscrollBehavior","contain"))},s=i=>{if(!e||e===document.documentElement||e===document.body){i.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&i.preventDefault()},a=()=>{t&&t()},c=i=>{let n=i.target;Fe(n)&&(f(),n.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{n.style.transform="",E&&(E.height<window.innerHeight?requestAnimationFrame(()=>{y(n)}):E.addEventListener("resize",()=>y(n),{once:!0}))}))},d=null,f=()=>{if(d)return;let i=()=>{window.scrollTo(0,0)},n=window.pageXOffset,p=window.pageYOffset;d=w(v(window,"scroll",i),b(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),b(document.documentElement,"overflow","hidden"),b(document.body,"marginTop",`-${p}px`),()=>{window.scrollTo(n,p)}),window.scrollTo(0,0)},o=w(v(document,"touchstart",r,{passive:!1,capture:!0}),v(document,"touchmove",s,{passive:!1,capture:!0}),v(document,"touchend",a,{passive:!1,capture:!0}),v(document,"focus",c,!0));return()=>{t==null||t(),d==null||d(),o()}}function b(e,t,r){let s=e.style[t];return e.style[t]=r,()=>{e.style[t]=s}}function v(e,t,r,s){return e.addEventListener(t,r,s),()=>{e.removeEventListener(t,r,s)}}function y(e){let t=document.scrollingElement||document.documentElement,r=e;for(;r&&r!==t;){let s=F(r);if(s!==document.documentElement&&s!==document.body&&s!==r){let a=s.getBoundingClientRect().top,c=r.getBoundingClientRect().top;c>a+r.clientHeight&&(s.scrollTop+=c-a)}r=s.parentElement}}function Fe(e){return e instanceof HTMLInputElement&&!ye.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var L={};L={dismiss:"تجاهل"};var R={};R={dismiss:"Отхвърляне"};var D={};D={dismiss:"Odstranit"};var N={};N={dismiss:"Luk"};var A={};A={dismiss:"Schließen"};var P={};P={dismiss:"Απόρριψη"};var M={};M={dismiss:"Dismiss"};var I={};I={dismiss:"Descartar"};var W={};W={dismiss:"Lõpeta"};var B={};B={dismiss:"Hylkää"};var H={};H={dismiss:"Rejeter"};var k={};k={dismiss:"התעלם"};var O={};O={dismiss:"Odbaci"};var _={};_={dismiss:"Elutasítás"};var G={};G={dismiss:"Ignora"};var V={};V={dismiss:"閉じる"};var K={};K={dismiss:"무시"};var U={};U={dismiss:"Atmesti"};var Y={};Y={dismiss:"Nerādīt"};var Z={};Z={dismiss:"Lukk"};var j={};j={dismiss:"Negeren"};var q={};q={dismiss:"Zignoruj"};var z={};z={dismiss:"Descartar"};var J={};J={dismiss:"Dispensar"};var X={};X={dismiss:"Revocare"};var Q={};Q={dismiss:"Пропустить"};var ee={};ee={dismiss:"Zrušiť"};var te={};te={dismiss:"Opusti"};var re={};re={dismiss:"Odbaci"};var se={};se={dismiss:"Avvisa"};var ne={};ne={dismiss:"Kapat"};var oe={};oe={dismiss:"Скасувати"};var ie={};ie={dismiss:"取消"};var ae={};ae={dismiss:"關閉"};var ce={};ce={"ar-AE":L,"bg-BG":R,"cs-CZ":D,"da-DK":N,"de-DE":A,"el-GR":P,"en-US":M,"es-ES":I,"et-EE":W,"fi-FI":B,"fr-FR":H,"he-IL":k,"hr-HR":O,"hu-HU":_,"it-IT":G,"ja-JP":V,"ko-KR":K,"lt-LT":U,"lv-LV":Y,"nb-NO":Z,"nl-NL":j,"pl-PL":q,"pt-BR":z,"pt-PT":J,"ro-RO":X,"ru-RU":Q,"sk-SK":ee,"sl-SI":te,"sr-SP":re,"sv-SE":se,"tr-TR":ne,"uk-UA":oe,"zh-CN":ie,"zh-TW":ae};const T={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function Le(e={}){let{style:t,isFocusable:r}=e,[s,a]=m.useState(!1),{focusWithinProps:c}=$e({isDisabled:!r,onFocusWithinChange:f=>a(f)}),d=m.useMemo(()=>s?t:t?{...T,...t}:T,[s]);return{visuallyHiddenProps:{...c,style:d}}}function Re(e){let{children:t,elementType:r="div",isFocusable:s,style:a,...c}=e,{visuallyHiddenProps:d}=Le(e);return $.createElement(r,fe(c,d),t)}function De(e){return e&&e.__esModule?e.default:e}function Be(e){let{onDismiss:t,...r}=e,s=he(De(ce),"@react-aria/overlays"),a=Ee(r,s.format("dismiss")),c=()=>{t&&t()};return $.createElement(Re,null,$.createElement("button",{...a,tabIndex:-1,onClick:c,style:{width:1,height:1}}))}let x=new WeakMap,l=[];function He(e,t=document.body){let r=new Set(e),s=new Set,a=o=>{for(let u of o.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(u);let i=u=>{if(r.has(u)||u.parentElement&&s.has(u.parentElement)&&u.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let le of r)if(u.contains(le))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},n=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,{acceptNode:i}),p=i(o);if(p===NodeFilter.FILTER_ACCEPT&&c(o),p!==NodeFilter.FILTER_REJECT){let u=n.nextNode();for(;u!=null;)c(u),u=n.nextNode()}},c=o=>{var i;let n=(i=x.get(o))!==null&&i!==void 0?i:0;o.getAttribute("aria-hidden")==="true"&&n===0||(n===0&&o.setAttribute("aria-hidden","true"),s.add(o),x.set(o,n+1))};l.length&&l[l.length-1].disconnect(),a(t);let d=new MutationObserver(o=>{for(let i of o)if(!(i.type!=="childList"||i.addedNodes.length===0)&&![...r,...s].some(n=>n.contains(i.target))){for(let n of i.removedNodes)n instanceof Element&&(r.delete(n),s.delete(n));for(let n of i.addedNodes)(n instanceof HTMLElement||n instanceof SVGElement)&&(n.dataset.liveAnnouncer==="true"||n.dataset.reactAriaTopLayer==="true")?r.add(n):n instanceof Element&&a(n)}});d.observe(t,{childList:!0,subtree:!0});let f={visibleNodes:r,hiddenNodes:s,observe(){d.observe(t,{childList:!0,subtree:!0})},disconnect(){d.disconnect()}};return l.push(f),()=>{d.disconnect();for(let o of s){let i=x.get(o);i!=null&&(i===1?(o.removeAttribute("aria-hidden"),x.delete(o)):x.set(o,i-1))}f===l[l.length-1]?(l.pop(),l.length&&l[l.length-1].observe()):l.splice(l.indexOf(f),1)}}const de=$.createContext(null);function ke(e){let t=me(),{portalContainer:r=t?null:document.body,isExiting:s}=e,[a,c]=m.useState(!1),d=m.useMemo(()=>({contain:a,setContain:c}),[a,c]),{getContainer:f}=be();if(!e.portalContainer&&f&&(r=f()),!r)return null;let o=e.children;return e.disableFocusManagement||(o=$.createElement(we,{restoreFocus:!0,contain:(e.shouldContainFocus||a)&&!s},o)),o=$.createElement(de.Provider,{value:d},$.createElement(Ce,null,o)),pe.createPortal(o,r)}function Ne(){let e=m.useContext(de),t=e==null?void 0:e.setContain;S(()=>{t==null||t(!0)},[t])}function Oe(e,t){let{role:r="dialog"}=e,s=ve();s=e["aria-label"]?void 0:s;let a=m.useRef(!1);return m.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){C(t.current);let c=setTimeout(()=>{document.activeElement===t.current&&(a.current=!0,t.current&&(t.current.blur(),C(t.current)),a.current=!1)},500);return()=>{clearTimeout(c)}}},[t]),Ne(),{dialogProps:{...xe(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||s,onBlur:c=>{a.current&&c.stopPropagation()}},titleProps:{id:s}}}export{Oe as $,Be as a,ke as b,We as c,He as d,Ne as e};
